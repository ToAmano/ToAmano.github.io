<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>WARNING: PSMAXN for non-local potential too small | personal website</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="WARNING: PSMAXN for non-local potential too small" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<meta property="og:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<link rel="canonical" href="http://localhost:4000/page/physics/vasp/vasp_errors.html" />
<meta property="og:url" content="http://localhost:4000/page/physics/vasp/vasp_errors.html" />
<meta property="og:site_name" content="personal website" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="WARNING: PSMAXN for non-local potential too small" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","headline":"WARNING: PSMAXN for non-local potential too small","url":"http://localhost:4000/page/physics/vasp/vasp_errors.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=c90158fd34f66e4f63b4da45038b5d6170d798eb">
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
    

<!--  -->

  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1><a href="http://localhost:4000/">personal website</a></h1>

        

        <p>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</p>

        
        <p class="view"><a href="https://github.com/dirac6582/dirac6582.github.io.git">View the Project on GitHub <small>dirac6582/dirac6582.github.io.git</small></a></p>
        

        

        
      </header>
      <section>

      
<h2 id="warning-psmaxn-for-non-local-potential-too-small">WARNING: PSMAXN for non-local potential too small</h2>

<p><a href="https://www.vasp.at/forum/viewtopic.php?f=3&amp;t=8370">My Community</a></p>

<p><a href="https://www.error.wiki/PSMAXN_for_non-local_potential_too_small">PSMAXN for non-local potential too small</a></p>

<p>解決策１：Lower your ENCUT a little bit (in my case from 900 to 870 eV) works.</p>

<p>解決策２：最も硬いPPをPOTCARの一番上に持ってくる．</p>

<h2 id="warning-grid-for-broyden-might-be-to-small">WARNING: grid for Broyden might be to small</h2>

<p>これはADDGRID=TRUEにしたのが原因．</p>

<h2 id="internal-error-in-set_indpw_full-insufficient-memory-see-wavef-safeguard"><strong><em>internal error in SET_INDPW_FULL: insufficient memory (see wave.F safeguard)</em></strong></h2>

<p><a href="https://dannyvanpoucke.be/vasp-errors-en/">VASP errors</a></p>

<p><a href="https://35.234.103.250/forum/search.php?keywords=SET_INDPW_FULL">My Community</a></p>

<p><a href="https://35.234.103.250/forum/viewtopic.php?f=3&amp;t=17510&amp;p=18502&amp;hilit=SET_INDPW_FULL#p18502">My Community</a></p>

<p>Trying to modify the accuracy settings, or other setting influencing memory usage seem not to resolve this problem. The solution was luckily provided by the <a href="https://www.vasp.at/index.php/the-vasp-team">VASPmasters</a>
 : decrease the <strong>SYMPREC</strong>
 parameter in the INCAR file to a value of 1e-4. The problem apparently originated in a symmetry-breaking 5th
 digit in the Bravais matrix. In case the error occurs for <strong>HSE06 calculations,</strong> 
this can be due to a too small value of NPAR. Try setting <strong>NPAR = #cores</strong>
 such that NPAR * KPAR = Total number of cores in the calculation. Although tthis is a suggested setting, one may opt to use NPAR=1 as it speeds up calculations significantly.</p>

<h2 id="brmix-very-serious-problems-the-old-and-the-new-charge-density-differ">BRMIX: very serious problems <strong>The old and the new charge density differ</strong></h2>

<p><a href="https://www.error.wiki/The_old_and_the_new_charge_density_differ">The old and the new charge density differ</a></p>

<p><a href="https://www.researchgate.net/post/Anyone_familiar_with_this_error_in_VASP"></a></p>

<p><a href="https://dannyvanpoucke.be/vasp-errors-en/">VASP errors</a></p>

<p>→ 一つはテトラヘドロン法に起因するエラーのようだ．ただし今回（ルチルTiO2）は関係ない．</p>

<p>もう一つは並列化に起因するエラーで，KPARとNCOREの設定で発生する可能性があるらしい．</p>

<ul>
  <li>1つのバンドを計算するコアの数が少ないとエラーが起こりうる．→ NCOREを増やす？（NCOREは1つのバンド計算に使われるCORE数であることに注意！！）</li>
  <li>もしも，「バンドの数/コア数」が小さすぎると（つまりあまりにコア数が多すぎると）この問題が起こることがあり得る．その場合はコア数を減らすことで対応できる可能性あり．</li>
</ul>

<h2 id="warning-in-eddiag-sub-space-matrix-is-not-hermitian">WARNING in EDDIAG: sub space matrix is not hermitian</h2>

<p>HSE06の構造緩和（ISIF=6）で発生</p>

<p><a href="https://www.vasp.at/forum/viewtopic.php?t=1192">My Community</a></p>

<h2 id="warning-sub-space-matrix-is-not-hermitian-in-dav">WARNING: Sub-Space-Matrix is not hermitian in DAV</h2>

<p><a href="https://www.error.wiki/Sub-Space-Matrix_is_not_hermitian">https://www.error.wiki/Sub-Space-Matrix_is_not_hermitian</a>
→ NCORE=16に設定したら治った．</p>

<p>DFPT計算でこのerrorが出る場合．
→ ohtakaでpre-installされているvaspではこのエラーが消せず，結局再インストールしたらうまくいくようになった．</p>

<h2 id="scandfptはsupportされていない">SCAN+DFPTはsupportされていない</h2>

<p>vasp+dfptでの計算 → これはそもそもSCAN+DFPTがsupportされていない．</p>

<table>
  <tbody>
    <tr>
      <td>For optimal performance we recommend to set</td>
    </tr>
    <tr>
      <td>NCORE= 4 - approx SQRT( number of cores)</td>
    </tr>
    <tr>
      <td>NCORE specifies how many cores store one orbital (NPAR=cpu/NCORE).</td>
    </tr>
    <tr>
      <td>This setting can  greatly improve the performance of VASP for DFT.</td>
    </tr>
    <tr>
      <td>The default,   NCORE=1            might be grossly inefficient</td>
    </tr>
    <tr>
      <td>on modern multi-core architectures or massively parallel machines.</td>
    </tr>
    <tr>
      <td>Do your own testing !!!!</td>
    </tr>
    <tr>
      <td>Unfortunately you need to use the default for GW and RPA calculations.</td>
    </tr>
    <tr>
      <td>(for HF NCORE is supported but not extensively tested yet)</td>
    </tr>
  </tbody>
</table>

<h2 id="error-fexcp-supplied-exchange-correletion-table">ERROR FEXCP: supplied Exchange-correletion table</h2>

<p>ナフタレンのDFPT計算中に出現．</p>

<p><a href="https://www.error.wiki/ERROR_FEXCP:_supplied_Exchange-correletion_table_is_too_small">ERROR FEXCP: supplied Exchange-correletion table is too small</a></p>

<p>によるとPOTCARを読み込んでいる時のエラーらしい．geometryが大丈夫か確認を．</p>

<h2 id="hseで収束しない場合">HSEで収束しない場合</h2>

<p><a href="https://www.researchgate.net/post/Can_anyone_help_with_the_following_issues_about_hse06_hybrid_functional_calculations_using_vasp_535"></a></p>

<p>ALGOをDからNへ変更する．</p>

<h2 id="error-approximate-vdw-methods-are-not-implemented-for-df-pt-use-finite-differences-ibrion56-instead">ERROR: approximate vdW methods are not implemented for DF-PT. Use finite differences (IBRION=5|6) instead.</h2>

<h2 id="one-or-more-components-of-efield_pead-is-too-large-for-comfortstdoutlog">One or more components of EFIELD_PEAD is too large for comfort@stdout.log</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>|      One or more components of EFIELD_PEAD is too large for comfort, in all |
|      probability you are too near to the onset of Zener tunneling.          |
|                                                                             |
|           e |E dot A_1| =  0.04602  &gt;  1/10 E_g/N_1 =  0.03690              |
|           e |E dot A_2| =  0.00000  &gt;  1/10 E_g/N_2 =  0.03690              |
|           e |E dot A_3| =  0.00000  &gt;  1/10 E_g/N_3 =  0.02460              |
|                                                                             |
|      Possible SOLUTIONS:                                                    |
|       ) choose a smaller electric field                                     |
|       ) use a less dense grid of k-points
</code></pre></div></div>

<p><a href="https://www.vasp.at/wiki/index.php/EFIELD_PEAD">EFIELD_PEAD</a></p>

<h2 id="zbrent-fatal-error-in-bracketing-please-rerun-with-smaller-ediff-or-copy-contcar-to-poscar-and-continue">ZBRENT: fatal error in bracketing please rerun with smaller EDIFF, or copy CONTCAR to POSCAR and continue</h2>

<p><a href="https://www.vasp.at/forum/viewtopic.php?t=9233">My Community</a></p>

<h2 id="error-edddav-call-to-zhegv-failed-returncode--31-1-32">Error EDDDAV: Call to ZHEGV failed. Returncode = 31 1 32</h2>

<p><a href="https://www.vasp.at/forum/viewtopic.php?f=2&amp;t=10409&amp;p=10434">https://www.vasp.at/forum/viewtopic.php?f=2&amp;t=10409&amp;p=10434</a></p>


      </section>
      <footer>
        
        <p>This project is maintained by <a href="https://github.com/dirac6582">dirac6582</a></p>
        
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="/assets/js/scale.fix.js"></script>
  </body>
</html>
