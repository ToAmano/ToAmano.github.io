<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>LaTeX installation | personal website</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="LaTeX installation" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<meta property="og:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<link rel="canonical" href="http://localhost:4000/page/latex/latex_install.html" />
<meta property="og:url" content="http://localhost:4000/page/latex/latex_install.html" />
<meta property="og:site_name" content="personal website" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-09-04T10:03:40+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="LaTeX installation" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-09-04T10:03:40+09:00","datePublished":"2022-09-04T10:03:40+09:00","description":"Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","headline":"LaTeX installation","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/page/latex/latex_install.html"},"url":"http://localhost:4000/page/latex/latex_install.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=c90158fd34f66e4f63b4da45038b5d6170d798eb">
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
    

<!--  -->

  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1><a href="http://localhost:4000/">personal website</a></h1>

        

        <p>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</p>

        
        <p class="view"><a href="https://github.com/dirac6582/dirac6582.github.io.git">View the Project on GitHub <small>dirac6582/dirac6582.github.io.git</small></a></p>
        

        

        
      </header>
      <section>

      <h2 id="latexのインストールmac">LaTeXのインストール（mac）</h2>

<p>TeXを利用するための環境設定としては，TeX自体のインストール・パスの設定が必須．加えて快適に文書を作成するにはエディターの設定やビューワーも必要である場合が多い．以下ではmacにmactexをhomebrewでインストールする例を述べる．</p>

<ol>
  <li>
    <p>MacTeXのinstall(nessesary)</p>

    <p>これはhomebrewを利用するか，DMGファイルをダウンロードしてくるかのどちらでも良い．homebrewを利用する場合は以下のコマンドで良いが，かなり時間がかかるので注意．</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> brew <span class="nb">install</span> <span class="nt">--cask</span> mactex
</code></pre></div>    </div>

    <p>mactexは同時にLaTeXITやTeXShopなどのGUIアプリケーションもインストールする．これらのGUIツールを利用しないという場合は</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> brew <span class="nb">install</span> <span class="nt">--cask</span> mactex-no-gui
</code></pre></div>    </div>
    <p>でも良い．個人的には数式の画像を作成してくれるLaTeXITがスライドの作成などで便利なので全てインストールしている．初心者はとりあえず全てインストールすることをおすすめする．</p>

    <p>MacTeXの特徴として，</p>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> /usr/local/texlive/2022
</code></pre></div>    </div>
    <p>のようにバージョンの出た年ごとにディレクトリを掘ってインストールされるので，過去のバージョンとconflictを起こさないようになっているという利点がある．したがって現在の環境を壊さずに新しいバージョンのインストールを気軽に行える．</p>

    <p>以上で長いインストールが終わったら，コマンドが入っているかを確認する．<code class="language-plaintext highlighter-rouge">/usr/local/texlive/</code>以下のコマンドが反応すればインストールは完了だ．</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ lulatex --help
 $ which lulatex
</code></pre></div>    </div>

    <p>latexのパッケージ管理ソフト<code class="language-plaintext highlighter-rouge">tlmgr</code>のアップデートもおこなっておく．</p>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">sudo </span>tlmgr update <span class="nt">--self</span> <span class="nt">--all</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>latex文書が作成されるかのテスト</p>

    <p>以上でインストールは終了して，latex文書をpdfに変換できるようになった．ちゃんとlatexが動くかのテストとして以下のようなファイル<code class="language-plaintext highlighter-rouge">test.tex</code>を作成してみる．(注意::lualatexはデフォルトで日本語を受け付けない!)</p>

    <pre><code class="language-latex:test.tex">  \documentclass[a4]{article}
 \usepackage{blindtext}
 \title{Lualatex test}
 \begin{document}
 \maketitle
 Here you can add texts.

 \blinddocument
 \end{document}
</code></pre>

    <p>このファイルをpdf化するためにターミナルで</p>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> lualatex test.tex
</code></pre></div>    </div>
    <p>と打つ．いくつかファイルが生成されるが，その中の<code class="language-plaintext highlighter-rouge">test.pdf</code>にLualatex testというタイトルで文書ができていれば成功だ．</p>

    <p>lulatexは遅いし使いたくない場合，uplatex+ptex2pdfの組み合わせを試す．以下のようなtext2.texを用意する．uplatexの場合は日本語でも大丈夫．</p>

    <pre><code class="language-latex:test2.tex"> \documentclass[a4j]{jsarticle}
 \usepackage{blindtext}
 \title{uplatex test}
 \begin{document}
 \maketitle
 みなさんこんにちは．uplatexのコンパイルテスト用のファイルです．
 \blinddocument
 \end{document}
</code></pre>
    <p>コンパイルするには二つのコマンドが必要．これでtest2.pdfというファイルが生成されていれば成功だ．</p>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c"># test2.dviファイルを作成</span>
 <span class="nv">$ </span>uplatex test2.tex 
 <span class="c"># test2.pdfファイルを作成</span>
 ptex2pdf <span class="nt">-u</span> <span class="nt">-l</span> test2
</code></pre></div>    </div>
    <p>ターミナルからやるとコマンドがいくつか必要で面倒くさいが，ちゃんとエディタの設定を行えばlualatexもuplatexもコマンド一つで簡単にコンパイルできるようになるので心配ない．</p>
  </li>
</ol>

<h2 id="latexmk-option">latexmk (option)</h2>

<p>latexmkとはTeXからPDFファイルを作成するまでの流れを自動で行ってくれるもの．例えばTeX文書が参考文献を含む場合にはPDFファイルを作成するには複数回コンパイルが必要であるが，latexmkはこの複数回のコンパイルをコマンド一つで自動でやってくれる．コマンドはMacTeXのインストールで自動で入っているが，<code class="language-plaintext highlighter-rouge">.latexmkrc</code>という設定ファイルをホームディレクトリ（かlatex文書があるディレクトリ）に設置する必要がある．TeXコンパイラとして何を利用するかで設定が異なる．</p>

<!-- http://www2.yukawa.kyoto-u.ac.jp/~koudai.sugimoto/dokuwiki/doku.php?id=latex:latexmk%E3%81%AE%E8%A8%AD%E5%AE%9A
    
https://sites.google.com/site/lifeslash7830/home/tex/latexmkdeshittashedingnitsuite 

https://sites.google.com/site/lifeslash7830/home/tex/lualatexwoshittemiru 

https://konn-san.com/prog/why-not-latexmk.html

-->

<p>lualatexを利用する場合の一例が以下．</p>

<pre><code class="language-latex:.latexmkrc">#!/usr/bin/env perl
# tex options
# $biber        = 'biber %O --bblencoding=utf8 -u -U --output_safechars %B';
# $bibtex       = 'bibtex %O %B';
# $makeindex    = 'mendex %O -o %D %S';

$latex            = 'platex -synctex=1 -halt-on-error';
$latex_silent     = 'platex -synctex=1 -halt-on-error -interaction=batchmode';
$bibtex           = 'bibtex'; # 
$dvipdf           = 'dvipdfmx %O -o %D %S';
$makeindex        = 'mendex %O -o %D %S';
$max_repeat       = 100;    # コンパイルのmax回数
$pdf_mode         = 4; # 0: none, 1: pdflatex, 2: ps2pdf, 3: dvipdfmx, 4: lualatex

# ----- tex options -----
$lualatex     = 'lualatex -shell-escape -synctex=1 -interaction=nonstopmode';
$pdflualatex  = $lualatex;
$pdflatex = 'lualatex %O -synctex=1 %S';

# ----- preview -----
# 
$pvc_view_file_via_temporary = 6;


## output directory
#$aux_dir          = "build/";
#$out_dir          = "build/";

# 
# $aux_dir           = "$ENV{HOME}/.tmp/tex/" . basename(getcwd);
# $out_dir           = $aux_dir;
</code></pre>


      </section>
      <footer>
        
        <p>This project is maintained by <a href="https://github.com/dirac6582">dirac6582</a></p>
        
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="/assets/js/scale.fix.js"></script>
  </body>
</html>
