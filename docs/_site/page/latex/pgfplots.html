<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>tikz/pgf | personal website</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="tikz/pgf" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<meta property="og:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<link rel="canonical" href="http://localhost:4000/page/latex/pgfplots.html" />
<meta property="og:url" content="http://localhost:4000/page/latex/pgfplots.html" />
<meta property="og:site_name" content="personal website" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-09-04T10:03:40+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="tikz/pgf" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-09-04T10:03:40+09:00","datePublished":"2022-09-04T10:03:40+09:00","description":"Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","headline":"tikz/pgf","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/page/latex/pgfplots.html"},"url":"http://localhost:4000/page/latex/pgfplots.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=c90158fd34f66e4f63b4da45038b5d6170d798eb">
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
    

<!--  -->

  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1><a href="http://localhost:4000/">personal website</a></h1>

        

        <p>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</p>

        
        <p class="view"><a href="https://github.com/dirac6582/dirac6582.github.io.git">View the Project on GitHub <small>dirac6582/dirac6582.github.io.git</small></a></p>
        

        

        
      </header>
      <section>

      <p>とりあえず参考になるurlの列挙だけ．</p>

<p><a href="https://tikz.dev/">公式のマニュアル</a></p>

<h2 id="基本的な使い方">基本的な使い方</h2>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\documentclass</span><span class="p">{</span>article<span class="p">}</span>

<span class="k">\usepackage</span><span class="p">{</span>tikz,pgfplots,pgfplotstable<span class="p">}</span> <span class="c">% 基本となる3つのパッケージ</span>

<span class="k">\pgfplotsset</span><span class="p">{</span>compat = newest<span class="p">}</span>

<span class="nt">\begin{document}</span>
    <span class="nt">\begin{tikzpicture}</span>
        <span class="nt">\begin{axis}</span>[
            xmin = 0, xmax = 30,
            ymin = -1.5, ymax = 2.0,
            xtick distance = 2.5,
            ytick distance = 0.5,
            grid = both,
            minor tick num = 1,
            major grid style = <span class="p">{</span>lightgray<span class="p">}</span>,
            minor grid style = <span class="p">{</span>lightgray!25<span class="p">}</span>,
            width = <span class="k">\textwidth</span>,
            height = 0.5<span class="k">\textwidth</span>,
            xlabel = <span class="p">{$</span><span class="nb">x</span><span class="p">$}</span>,
            ylabel = <span class="p">{$</span><span class="nb">y</span><span class="p">$}</span>,
            legend cell align = <span class="p">{</span>left<span class="p">}</span>,
        ]
            <span class="k">\addplot</span>[
                domain = 0:30,
                samples = 200,
                smooth,
                thick,
                blue,
            ] <span class="p">{</span>exp(-x/10)*( cos(deg(x)) + sin(deg(x))/10 )<span class="p">}</span>;

            <span class="k">\addplot</span>[
                smooth,
                thin,
                red,
                dashed
            ] file[skip first] <span class="p">{</span>cosine.dat<span class="p">}</span>;
           <span class="k">\legend</span><span class="p">{</span>Plot from expression, Plot from file<span class="p">}</span>
        <span class="nt">\end{axis}</span>
    <span class="nt">\end{tikzpicture}</span>
<span class="nt">\end{document}</span>
</code></pre></div></div>

<p>https://bombrary.github.io/blog/posts/tikz-note01/</p>

<p>https://mathlandscape.com/latex-color/
https://konoyonohana.blog.fc2.com/blog-entry-97.html</p>

<p>https://latexdraw.com/plot-a-function-and-data-in-latex/</p>

<h3 id="フォントの大きさを変える">フォントの大きさを変える．</h3>
<p>https://tex.stackexchange.com/questions/107057/adjusting-font-size-with-tikz-picture</p>

<h3 id="p-in-pを作る">p in pを作る．</h3>
<p>scope環境を利用して作ることができる．</p>

<p>https://tex.stackexchange.com/questions/124453/connecting-subplots</p>

<h3 id="legendを消す">Legendを消す</h3>
<p>https://tex.stackexchange.com/questions/14506/pgfplots-prevent-single-plot-from-being-listed-in-legend</p>

<p>https://tex.stackexchange.com/questions/6114/hide-tick-numbers-in-a-tikz-pgf-axis-environment
yticklabels</p>

<h3 id="ファイルのパスを追加する">ファイルのパスを追加する</h3>

<p>プロジェクトで複数のディレクトリを利用している場合，standaloneクラスの文書とメインの文書でpathが異なる場合がある．この場合，<code class="language-plaintext highlighter-rouge">\pgfplotsset</code>コマンドでファイルのパスを追加できる．</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">\pgfplotsset</span><span class="p">{</span>
        table/search path=<span class="p">{</span>plots/data<span class="p">}</span>,
    <span class="p">}</span>
</code></pre></div></div>

<h3 id="複数の図を入れる">複数の図を入れる</h3>
<p>https://tex.stackexchange.com/questions/457844/align-two-tikz-pictures-vertically-in-standalone-environment</p>

<h2 id="色を変える">色を変える</h2>
<p>defaultだと基本的な色しか使えないが，中にはyellowなど蛍光色で見にくい色がある．グラフの見やすさなどの観点で違う色を使いたい場合，基本的な方法はxcolorパッケージを利用する方法．</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># 基本の19色
\usepackage{xcolor}

# dvipsnamesオプション付きで読み込むと追加の色を使える
\usepackage[dvipsnames]{xcolor}
</code></pre></div></div>

<p>https://mathlandscape.com/latex-color/
https://konoyonohana.blog.fc2.com/blog-entry-97.html</p>

<h3 id="フォントの大きさを変える-1">フォントの大きさを変える．</h3>
<p>https://tex.stackexchange.com/questions/107057/adjusting-font-size-with-tikz-picture</p>

<h3 id="p-in-pを作る-1">p in pを作る．</h3>
<p>scope環境を利用して作ることができる．</p>

<p>https://tex.stackexchange.com/questions/124453/connecting-subplots</p>

<h3 id="矢印">矢印</h3>

<p>https://latexdraw.com/exploring-tikz-arrows/</p>

<h3 id="参考文献">参考文献</h3>
<h4 id="全体的なことに関して">全体的なことに関して</h4>
<p><a href="https://bombrary.github.io/blog/posts/tikz-note01/">基本的なこと1</a></p>

<p><a href="https://aprikose.sumomo.ne.jp/madchemiker/latex/figures-with-comments/">gnuplotとの連携</a></p>

<p><a href="http://pgfplots.sourceforge.net/pgfplotstable.pdf">pgfplotsマニュアル</a></p>

<p><a href="https://atatat.hatenablog.com/entry/cloud_latex27_tikz_layout">tikz+minipage</a>%</p>

<h2 id="compileをスピードアップするグラフの作成の外部化1tikzexternalize">compileをスピードアップする・グラフの作成の外部化1:tikzexternalize</h2>

<p>https://tex.stackexchange.com/questions/45/how-to-speed-up-latex-compilation-with-several-tikz-pictures
&lt;!–
Whenever you’d use a tikzpicture environment or a \tikz macro, give your picture a suggestive name, say riemann_sum, put the TikZ code in a single standalone document (with some boilerplate such that it matches the style of your main document. For example we don’t want Computer Modern in our pictures while the main document is typeset with Times or a 10pt/12pt font size clash) called riemann_sum_sag.tex and use \includepdf{riemann_sum_sag} instead. The goal is to not have a single picture being compiled when you run make without having modified a *_sag.tex file. If this is not possible because you need to \ref something inside a picture, then so be it, but try to keep that to a minimum and instead choose good captions or something.</p>

<p>You’ll also notice that there is a rule for files matching *_input.tex. This is for splitting the project into multiple files which is of course always a good idea when doing large projects. The rule detects whether such a file has been modified, and if it has triggers a recompilation of the document. LaTeX’s \includeonly feature might be a good companion to this.
–&gt;</p>

<!-- https://blog.miz-ar.info/2016/12/latex-and-output-directory/ -->
<!-- 
https://github.com/pgf-tikz/pgf/issues/932
https://tex.stackexchange.com/questions/360794/using-externalize-with-standalones-for-tikz-figures-output-directory-and-tik
https://tex.stackexchange.com/questions/183023/combining-beamer-tikz-externalize-and-standalone
https://aprikose.sumomo.ne.jp/madchemiker/latex/tikzexternalize/
-->

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\documentclass</span><span class="p">{</span>article<span class="p">}</span>
<span class="k">\usepackage</span><span class="p">{</span>tikz<span class="p">}</span>
<span class="k">\usetikzlibrary</span><span class="p">{</span>external<span class="p">}</span>
<span class="k">\tikzexternalize</span><span class="na">[prefix=_tikz/]</span>
<span class="k">\tikzexternalize</span>
<span class="nt">\begin{document}</span>
<span class="nt">\begin{tikzpicture}</span>
  <span class="k">\draw</span> (0,0) -- (1,0) -- (1,1) -- (0,1) -- cycle;
<span class="nt">\end{tikzpicture}</span>
<span class="nt">\end{document}</span>
</code></pre></div></div>

<h2 id="compileをスピードアップするグラフの作成の外部化2standaloneクラス">compileをスピードアップする・グラフの作成の外部化2::standaloneクラス</h2>

<h2 id="グラフの外部化3externalize">グラフの外部化3::externalize</h2>
<p>https://tikz.dev/library-external</p>

<h2 id="解決方法がわかっていないこと">解決方法がわかっていないこと</h2>

<ul>
  <li>
    <p>subcaptionやminipageなどの分割を行う環境との相性がよくない．</p>

    <p>% % 注意 !! ここの二つのグラフはそのままlualatex –jobnameコマンドを使ってもうまく図が生成されない．．．
% % 全体的にonecolumngrid+minipageとpgfplotsの組み合わせがよくない気がする．
% % 一旦minipageをコメントアウトしてからlualatexを実行するとまあ悪くない図が得られる．</p>
  </li>
  <li>
    <p>semilogyaxisとaxis環境で作られる左側の余白が異なる．</p>

    <p>これは別に気にしなければそのままで良いと思う．</p>
    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
</code></pre></div>    </div>

    <p>図表のサイズ(軸ラベルを含まない四角く囲まれた部分)は同じだが，左側のラベルを含む余白の大きさが異なる．semilogyaxisの方が余白が大きく，普通に並べると揃わない．とりあえずの解決策としては後からpdfを編集するか，standaloneクラス+tikzオプションを利用する．</p>

    <p>システマチックにできるのはstandaloneクラスを使う方法．これはグラフの幅はある程度同じになるように指定しておかないといけない．しかしstandaloneクラスで図を作ると余白はなくなるものの引用の番号がおかしくなってしまうという新しい問題が発生する．．． これを解決するにはstandaloneクラスの文書に直接メインファイルのbblファイルをインポートすることで一応対応できる．</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\input</span><span class="p">{</span>main.bbl<span class="p">}</span>
</code></pre></div>    </div>
    <p>対処療法だけどとりあえずはこれで．．．</p>

    <p>追記::biblatexではなくてnatbibを利用する場合，standaloneの方でnatbibのstyleを指定しないとまずい？ (revtexはnatbibなので．．．）</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\usepackage</span><span class="na">[numbers]</span><span class="p">{</span>natbib<span class="p">}</span>
本文
<span class="k">\input</span><span class="p">{</span>main.bbl<span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>図表のサイズ指定</p>

    <p><a href="https://journals.aps.org/prl/authors">APSのマニュアル</a>によると横幅は8.6cmにするべき？ これがおそらく2カラム組の場合の1カラム幅に対応しているのだろう．これもstandalone環境だとうまくいっているように見える．</p>
  </li>
</ul>

<p>https://tex.stackexchange.com/questions/480910/pgfplots-how-to-align-plot-width-to-same-width-as-legend</p>

<p>https://tex.stackexchange.com/questions/301594/scale-only-axis-only-for-one-axis</p>

<p>https://tex.stackexchange.com/questions/528695/pgfplots-how-to-get-values-of-width-and-height-of-axis-rectangle</p>

<p>https://tex.stackexchange.com/questions/192424/pgfplots-single-legend-in-a-group-plot</p>

<p>https://tex.stackexchange.com/questions/131446/common-label-for-a-groupplot</p>

<p>https://tex.stackexchange.com/questions/169433/pgfplots-relative-node-positioning-in-axis-cs</p>

<p>https://tex.stackexchange.com/questions/136836/dashed-axis-lines</p>


      </section>
      <footer>
        
        <p>This project is maintained by <a href="https://github.com/dirac6582">dirac6582</a></p>
        
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="/assets/js/scale.fix.js"></script>
  </body>
</html>
